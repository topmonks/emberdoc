<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>bower_components/rsvp/lib/rsvp/promise.js - The Ember API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="The Ember API" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.13.11</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/Backburner.html">Backburner</a></li>
                                <li><a href="../classes/Descriptor.html">Descriptor</a></li>
                                <li><a href="../classes/EachProxy.html">EachProxy</a></li>
                                <li><a href="../classes/Ember.html">Ember</a></li>
                                <li><a href="../classes/Ember._Metamorph.html">Ember._Metamorph</a></li>
                                <li><a href="../classes/Ember._MetamorphView.html">Ember._MetamorphView</a></li>
                                <li><a href="../classes/Ember.ActionHandler.html">Ember.ActionHandler</a></li>
                                <li><a href="../classes/Ember.Application.html">Ember.Application</a></li>
                                <li><a href="../classes/Ember.AriaRoleSupport.html">Ember.AriaRoleSupport</a></li>
                                <li><a href="../classes/Ember.Array.html">Ember.Array</a></li>
                                <li><a href="../classes/Ember.ArrayController.html">Ember.ArrayController</a></li>
                                <li><a href="../classes/Ember.ArrayProxy.html">Ember.ArrayProxy</a></li>
                                <li><a href="../classes/Ember.AutoLocation.html">Ember.AutoLocation</a></li>
                                <li><a href="../classes/Ember.Binding.html">Ember.Binding</a></li>
                                <li><a href="../classes/Ember.Checkbox.html">Ember.Checkbox</a></li>
                                <li><a href="../classes/Ember.ClassNamesSupport.html">Ember.ClassNamesSupport</a></li>
                                <li><a href="../classes/Ember.CollectionView.html">Ember.CollectionView</a></li>
                                <li><a href="../classes/Ember.Comparable.html">Ember.Comparable</a></li>
                                <li><a href="../classes/Ember.Component.html">Ember.Component</a></li>
                                <li><a href="../classes/Ember.computed.html">Ember.computed</a></li>
                                <li><a href="../classes/Ember.ComputedProperty.html">Ember.ComputedProperty</a></li>
                                <li><a href="../classes/Ember.ContainerDebugAdapter.html">Ember.ContainerDebugAdapter</a></li>
                                <li><a href="../classes/Ember.ContainerView.html">Ember.ContainerView</a></li>
                                <li><a href="../classes/Ember.Controller.html">Ember.Controller</a></li>
                                <li><a href="../classes/Ember.ControllerMixin.html">Ember.ControllerMixin</a></li>
                                <li><a href="../classes/Ember.Copyable.html">Ember.Copyable</a></li>
                                <li><a href="../classes/Ember.CoreObject.html">Ember.CoreObject</a></li>
                                <li><a href="../classes/Ember.CoreView.html">Ember.CoreView</a></li>
                                <li><a href="../classes/Ember.DataAdapter.html">Ember.DataAdapter</a></li>
                                <li><a href="../classes/Ember.DefaultResolver.html">Ember.DefaultResolver</a></li>
                                <li><a href="../classes/Ember.Deferred.html">Ember.Deferred</a></li>
                                <li><a href="../classes/Ember.EmptyViewSupport.html">Ember.EmptyViewSupport</a></li>
                                <li><a href="../classes/Ember.Enumerable.html">Ember.Enumerable</a></li>
                                <li><a href="../classes/Ember.EnumerableUtils.html">Ember.EnumerableUtils</a></li>
                                <li><a href="../classes/Ember.Error.html">Ember.Error</a></li>
                                <li><a href="../classes/Ember.EventDispatcher.html">Ember.EventDispatcher</a></li>
                                <li><a href="../classes/Ember.Evented.html">Ember.Evented</a></li>
                                <li><a href="../classes/Ember.FEATURES.html">Ember.FEATURES</a></li>
                                <li><a href="../classes/Ember.Freezable.html">Ember.Freezable</a></li>
                                <li><a href="../classes/Ember.Handlebars.html">Ember.Handlebars</a></li>
                                <li><a href="../classes/Ember.Handlebars.helpers.html">Ember.Handlebars.helpers</a></li>
                                <li><a href="../classes/Ember.HashLocation.html">Ember.HashLocation</a></li>
                                <li><a href="../classes/Ember.Helper.html">Ember.Helper</a></li>
                                <li><a href="../classes/Ember.HistoryLocation.html">Ember.HistoryLocation</a></li>
                                <li><a href="../classes/Ember.HTMLBars.html">Ember.HTMLBars</a></li>
                                <li><a href="../classes/Ember.inject.html">Ember.inject</a></li>
                                <li><a href="../classes/Ember.InjectedProperty.html">Ember.InjectedProperty</a></li>
                                <li><a href="../classes/Ember.Instrumentation.html">Ember.Instrumentation</a></li>
                                <li><a href="../classes/Ember.InstrumentationSupport.html">Ember.InstrumentationSupport</a></li>
                                <li><a href="../classes/Ember.LegacyViewSupport.html">Ember.LegacyViewSupport</a></li>
                                <li><a href="../classes/Ember.LinkComponent.html">Ember.LinkComponent</a></li>
                                <li><a href="../classes/Ember.Location.html">Ember.Location</a></li>
                                <li><a href="../classes/Ember.Logger.html">Ember.Logger</a></li>
                                <li><a href="../classes/Ember.Map.html">Ember.Map</a></li>
                                <li><a href="../classes/Ember.MapWithDefault.html">Ember.MapWithDefault</a></li>
                                <li><a href="../classes/Ember.Mixin.html">Ember.Mixin</a></li>
                                <li><a href="../classes/Ember.MutableArray.html">Ember.MutableArray</a></li>
                                <li><a href="../classes/Ember.MutableEnumerable.html">Ember.MutableEnumerable</a></li>
                                <li><a href="../classes/Ember.Namespace.html">Ember.Namespace</a></li>
                                <li><a href="../classes/Ember.NativeArray.html">Ember.NativeArray</a></li>
                                <li><a href="../classes/Ember.NoneLocation.html">Ember.NoneLocation</a></li>
                                <li><a href="../classes/Ember.Object.html">Ember.Object</a></li>
                                <li><a href="../classes/Ember.ObjectController.html">Ember.ObjectController</a></li>
                                <li><a href="../classes/Ember.ObjectProxy.html">Ember.ObjectProxy</a></li>
                                <li><a href="../classes/Ember.Observable.html">Ember.Observable</a></li>
                                <li><a href="../classes/Ember.OrderedSet.html">Ember.OrderedSet</a></li>
                                <li><a href="../classes/Ember.platform.html">Ember.platform</a></li>
                                <li><a href="../classes/Ember.PromiseProxyMixin.html">Ember.PromiseProxyMixin</a></li>
                                <li><a href="../classes/Ember.ProxyMixin.html">Ember.ProxyMixin</a></li>
                                <li><a href="../classes/Ember.ReduceComputedProperty.html">Ember.ReduceComputedProperty</a></li>
                                <li><a href="../classes/Ember.RenderBuffer.html">Ember.RenderBuffer</a></li>
                                <li><a href="../classes/Ember.Route.html">Ember.Route</a></li>
                                <li><a href="../classes/Ember.Router.html">Ember.Router</a></li>
                                <li><a href="../classes/Ember.run.html">Ember.run</a></li>
                                <li><a href="../classes/Ember.Select.html">Ember.Select</a></li>
                                <li><a href="../classes/Ember.Service.html">Ember.Service</a></li>
                                <li><a href="../classes/Ember.Set.html">Ember.Set</a></li>
                                <li><a href="../classes/Ember.SortableMixin.html">Ember.SortableMixin</a></li>
                                <li><a href="../classes/Ember.stream.Stream.html">Ember.stream.Stream</a></li>
                                <li><a href="../classes/Ember.streams.Dependency.html">Ember.streams.Dependency</a></li>
                                <li><a href="../classes/Ember.streams.Ember.stream.html">Ember.streams.Ember.stream</a></li>
                                <li><a href="../classes/Ember.streams.Subscriber.html">Ember.streams.Subscriber</a></li>
                                <li><a href="../classes/Ember.String.html">Ember.String</a></li>
                                <li><a href="../classes/Ember.SubArray.html">Ember.SubArray</a></li>
                                <li><a href="../classes/Ember.TargetActionSupport.html">Ember.TargetActionSupport</a></li>
                                <li><a href="../classes/Ember.TemplateRenderingSupport.html">Ember.TemplateRenderingSupport</a></li>
                                <li><a href="../classes/Ember.Templates.helpers.html">Ember.Templates.helpers</a></li>
                                <li><a href="../classes/Ember.Test.html">Ember.Test</a></li>
                                <li><a href="../classes/Ember.Test.Adapter.html">Ember.Test.Adapter</a></li>
                                <li><a href="../classes/Ember.Test.QUnitAdapter.html">Ember.Test.QUnitAdapter</a></li>
                                <li><a href="../classes/Ember.TextArea.html">Ember.TextArea</a></li>
                                <li><a href="../classes/Ember.TextField.html">Ember.TextField</a></li>
                                <li><a href="../classes/Ember.TextSupport.html">Ember.TextSupport</a></li>
                                <li><a href="../classes/Ember.TrackedArray.html">Ember.TrackedArray</a></li>
                                <li><a href="../classes/Ember.View.html">Ember.View</a></li>
                                <li><a href="../classes/Ember.ViewTargetActionSupport.html">Ember.ViewTargetActionSupport</a></li>
                                <li><a href="../classes/Ember.VisibilitySupport.html">Ember.VisibilitySupport</a></li>
                                <li><a href="../classes/Function.html">Function</a></li>
                                <li><a href="../classes/HandlebarsCompatibleHelper.html">HandlebarsCompatibleHelper</a></li>
                                <li><a href="../classes/Libraries.html">Libraries</a></li>
                                <li><a href="../classes/RoutingService.html">RoutingService</a></li>
                                <li><a href="../classes/RSVP.html">RSVP</a></li>
                                <li><a href="../classes/RSVP.EventTarget.html">RSVP.EventTarget</a></li>
                                <li><a href="../classes/RSVP.Promise.html">RSVP.Promise</a></li>
                                <li><a href="../classes/String.html">String</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/ember.html">ember</a></li>
                                <li><a href="../modules/ember-application.html">ember-application</a></li>
                                <li><a href="../modules/ember-debug.html">ember-debug</a></li>
                                <li><a href="../modules/ember-extension-support.html">ember-extension-support</a></li>
                                <li><a href="../modules/ember-htmlbars.html">ember-htmlbars</a></li>
                                <li><a href="../modules/ember-metal.html">ember-metal</a></li>
                                <li><a href="../modules/ember-routing.html">ember-routing</a></li>
                                <li><a href="../modules/ember-routing-htmlbars.html">ember-routing-htmlbars</a></li>
                                <li><a href="../modules/ember-routing-views.html">ember-routing-views</a></li>
                                <li><a href="../modules/ember-runtime.html">ember-runtime</a></li>
                                <li><a href="../modules/ember-templates.html">ember-templates</a></li>
                                <li><a href="../modules/ember-testing.html">ember-testing</a></li>
                                <li><a href="../modules/ember-views.html">ember-views</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: bower_components/rsvp/lib/rsvp/promise.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
import { config } from &#x27;./config&#x27;;
import instrument from &#x27;./instrument&#x27;;

import {
  isFunction,
  now
} from &#x27;./utils&#x27;;

import {
  noop,
  subscribe,
  initializePromise,
  invokeCallback,
  FULFILLED,
  REJECTED
} from &#x27;./-internal&#x27;;

import all from &#x27;./promise/all&#x27;;
import race from &#x27;./promise/race&#x27;;
import Resolve from &#x27;./promise/resolve&#x27;;
import Reject from &#x27;./promise/reject&#x27;;

var guidKey = &#x27;rsvp_&#x27; + now() + &#x27;-&#x27;;
var counter = 0;

function needsResolver() {
  throw new TypeError(&#x27;You must pass a resolver function as the first argument to the promise constructor&#x27;);
}

function needsNew() {
  throw new TypeError(&quot;Failed to construct &#x27;Promise&#x27;: Please use the &#x27;new&#x27; operator, this object constructor cannot be called as a function.&quot;);
}
export default Promise;
/**
  Promise objects represent the eventual result of an asynchronous operation. The
  primary way of interacting with a promise is through its &#x60;then&#x60; method, which
  registers callbacks to receive either a promiseâ€™s eventual value or the reason
  why the promise cannot be fulfilled.

  Terminology
  -----------

  - &#x60;promise&#x60; is an object or function with a &#x60;then&#x60; method whose behavior conforms to this specification.
  - &#x60;thenable&#x60; is an object or function that defines a &#x60;then&#x60; method.
  - &#x60;value&#x60; is any legal JavaScript value (including undefined, a thenable, or a promise).
  - &#x60;exception&#x60; is a value that is thrown using the throw statement.
  - &#x60;reason&#x60; is a value that indicates why a promise was rejected.
  - &#x60;settled&#x60; the final resting state of a promise, fulfilled or rejected.

  A promise can be in one of three states: pending, fulfilled, or rejected.

  Promises that are fulfilled have a fulfillment value and are in the fulfilled
  state.  Promises that are rejected have a rejection reason and are in the
  rejected state.  A fulfillment value is never a thenable.

  Promises can also be said to *resolve* a value.  If this value is also a
  promise, then the original promise&#x27;s settled state will match the value&#x27;s
  settled state.  So a promise that *resolves* a promise that rejects will
  itself reject, and a promise that *resolves* a promise that fulfills will
  itself fulfill.


  Basic Usage:
  ------------

  &#x60;&#x60;&#x60;js
  var promise = new Promise(function(resolve, reject) {
    // on success
    resolve(value);

    // on failure
    reject(reason);
  });

  promise.then(function(value) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  &#x60;&#x60;&#x60;

  Advanced Usage:
  ---------------

  Promises shine when abstracting away asynchronous interactions such as
  &#x60;XMLHttpRequest&#x60;s.

  &#x60;&#x60;&#x60;js
  function getJSON(url) {
    return new Promise(function(resolve, reject){
      var xhr = new XMLHttpRequest();

      xhr.open(&#x27;GET&#x27;, url);
      xhr.onreadystatechange = handler;
      xhr.responseType = &#x27;json&#x27;;
      xhr.setRequestHeader(&#x27;Accept&#x27;, &#x27;application/json&#x27;);
      xhr.send();

      function handler() {
        if (this.readyState === this.DONE) {
          if (this.status === 200) {
            resolve(this.response);
          } else {
            reject(new Error(&#x27;getJSON: &#x60;&#x27; + url + &#x27;&#x60; failed with status: [&#x27; + this.status + &#x27;]&#x27;));
          }
        }
      };
    });
  }

  getJSON(&#x27;/posts.json&#x27;).then(function(json) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  &#x60;&#x60;&#x60;

  Unlike callbacks, promises are great composable primitives.

  &#x60;&#x60;&#x60;js
  Promise.all([
    getJSON(&#x27;/posts&#x27;),
    getJSON(&#x27;/comments&#x27;)
  ]).then(function(values){
    values[0] // =&gt; postsJSON
    values[1] // =&gt; commentsJSON

    return values;
  });
  &#x60;&#x60;&#x60;

  @class RSVP.Promise
  @param {function} resolver
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @constructor
*/
function Promise(resolver, label) {
  this._id = counter++;
  this._label = label;
  this._state = undefined;
  this._result = undefined;
  this._subscribers = [];

  if (config.instrument) {
    instrument(&#x27;created&#x27;, this);
  }

  if (noop !== resolver) {
    if (!isFunction(resolver)) {
      needsResolver();
    }

    if (!(this instanceof Promise)) {
      needsNew();
    }

    initializePromise(this, resolver);
  }
}

Promise.cast = Resolve; // deprecated
Promise.all = all;
Promise.race = race;
Promise.resolve = Resolve;
Promise.reject = Reject;

Promise.prototype = {
  constructor: Promise,

  _guidKey: guidKey,

  _onerror: function (reason) {
    config.trigger(&#x27;error&#x27;, reason);
  },

/**
  The primary way of interacting with a promise is through its &#x60;then&#x60; method,
  which registers callbacks to receive either a promise&#x27;s eventual value or the
  reason why the promise cannot be fulfilled.

  &#x60;&#x60;&#x60;js
  findUser().then(function(user){
    // user is available
  }, function(reason){
    // user is unavailable, and you are given the reason why
  });
  &#x60;&#x60;&#x60;

  Chaining
  --------

  The return value of &#x60;then&#x60; is itself a promise.  This second, &#x27;downstream&#x27;
  promise is resolved with the return value of the first promise&#x27;s fulfillment
  or rejection handler, or rejected if the handler throws an exception.

  &#x60;&#x60;&#x60;js
  findUser().then(function (user) {
    return user.name;
  }, function (reason) {
    return &#x27;default name&#x27;;
  }).then(function (userName) {
    // If &#x60;findUser&#x60; fulfilled, &#x60;userName&#x60; will be the user&#x27;s name, otherwise it
    // will be &#x60;&#x27;default name&#x27;&#x60;
  });

  findUser().then(function (user) {
    throw new Error(&#x27;Found user, but still unhappy&#x27;);
  }, function (reason) {
    throw new Error(&#x27;&#x60;findUser&#x60; rejected and we&#x27;re unhappy&#x27;);
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // if &#x60;findUser&#x60; fulfilled, &#x60;reason&#x60; will be &#x27;Found user, but still unhappy&#x27;.
    // If &#x60;findUser&#x60; rejected, &#x60;reason&#x60; will be &#x27;&#x60;findUser&#x60; rejected and we&#x27;re unhappy&#x27;.
  });
  &#x60;&#x60;&#x60;
  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.

  &#x60;&#x60;&#x60;js
  findUser().then(function (user) {
    throw new PedagogicalException(&#x27;Upstream error&#x27;);
  }).then(function (value) {
    // never reached
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // The &#x60;PedgagocialException&#x60; is propagated all the way down to here
  });
  &#x60;&#x60;&#x60;

  Assimilation
  ------------

  Sometimes the value you want to propagate to a downstream promise can only be
  retrieved asynchronously. This can be achieved by returning a promise in the
  fulfillment or rejection handler. The downstream promise will then be pending
  until the returned promise is settled. This is called *assimilation*.

  &#x60;&#x60;&#x60;js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // The user&#x27;s comments are now available
  });
  &#x60;&#x60;&#x60;

  If the assimliated promise rejects, then the downstream promise will also reject.

  &#x60;&#x60;&#x60;js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // If &#x60;findCommentsByAuthor&#x60; fulfills, we&#x27;ll have the value here
  }, function (reason) {
    // If &#x60;findCommentsByAuthor&#x60; rejects, we&#x27;ll have the reason here
  });
  &#x60;&#x60;&#x60;

  Simple Example
  --------------

  Synchronous Example

  &#x60;&#x60;&#x60;javascript
  var result;

  try {
    result = findResult();
    // success
  } catch(reason) {
    // failure
  }
  &#x60;&#x60;&#x60;

  Errback Example

  &#x60;&#x60;&#x60;js
  findResult(function(result, err){
    if (err) {
      // failure
    } else {
      // success
    }
  });
  &#x60;&#x60;&#x60;

  Promise Example;

  &#x60;&#x60;&#x60;javascript
  findResult().then(function(result){
    // success
  }, function(reason){
    // failure
  });
  &#x60;&#x60;&#x60;

  Advanced Example
  --------------

  Synchronous Example

  &#x60;&#x60;&#x60;javascript
  var author, books;

  try {
    author = findAuthor();
    books  = findBooksByAuthor(author);
    // success
  } catch(reason) {
    // failure
  }
  &#x60;&#x60;&#x60;

  Errback Example

  &#x60;&#x60;&#x60;js

  function foundBooks(books) {

  }

  function failure(reason) {

  }

  findAuthor(function(author, err){
    if (err) {
      failure(err);
      // failure
    } else {
      try {
        findBoooksByAuthor(author, function(books, err) {
          if (err) {
            failure(err);
          } else {
            try {
              foundBooks(books);
            } catch(reason) {
              failure(reason);
            }
          }
        });
      } catch(error) {
        failure(err);
      }
      // success
    }
  });
  &#x60;&#x60;&#x60;

  Promise Example;

  &#x60;&#x60;&#x60;javascript
  findAuthor().
    then(findBooksByAuthor).
    then(function(books){
      // found books
  }).catch(function(reason){
    // something went wrong
  });
  &#x60;&#x60;&#x60;

  @method then
  @param {Function} onFulfilled
  @param {Function} onRejected
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @return {Promise}
*/
  then: function(onFulfillment, onRejection, label) {
    var parent = this;
    var state = parent._state;

    if (state === FULFILLED &amp;&amp; !onFulfillment || state === REJECTED &amp;&amp; !onRejection) {
      if (config.instrument) {
        instrument(&#x27;chained&#x27;, this, this);
      }
      return this;
    }

    parent._onerror = null;

    var child = new this.constructor(noop, label);
    var result = parent._result;

    if (config.instrument) {
      instrument(&#x27;chained&#x27;, parent, child);
    }

    if (state) {
      var callback = arguments[state - 1];
      config.async(function(){
        invokeCallback(state, child, callback, result);
      });
    } else {
      subscribe(parent, child, onFulfillment, onRejection);
    }

    return child;
  },

/**
  &#x60;catch&#x60; is simply sugar for &#x60;then(undefined, onRejection)&#x60; which makes it the same
  as the catch block of a try/catch statement.

  &#x60;&#x60;&#x60;js
  function findAuthor(){
    throw new Error(&#x27;couldn&#x27;t find that author&#x27;);
  }

  // synchronous
  try {
    findAuthor();
  } catch(reason) {
    // something went wrong
  }

  // async with promises
  findAuthor().catch(function(reason){
    // something went wrong
  });
  &#x60;&#x60;&#x60;

  @method catch
  @param {Function} onRejection
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @return {Promise}
*/
  &#x27;catch&#x27;: function(onRejection, label) {
    return this.then(null, onRejection, label);
  },

/**
  &#x60;finally&#x60; will be invoked regardless of the promise&#x27;s fate just as native
  try/catch/finally behaves

  Synchronous example:

  &#x60;&#x60;&#x60;js
  findAuthor() {
    if (Math.random() &gt; 0.5) {
      throw new Error();
    }
    return new Author();
  }

  try {
    return findAuthor(); // succeed or fail
  } catch(error) {
    return findOtherAuther();
  } finally {
    // always runs
    // doesn&#x27;t affect the return value
  }
  &#x60;&#x60;&#x60;

  Asynchronous example:

  &#x60;&#x60;&#x60;js
  findAuthor().catch(function(reason){
    return findOtherAuther();
  }).finally(function(){
    // author was either found, or not
  });
  &#x60;&#x60;&#x60;

  @method finally
  @param {Function} callback
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @return {Promise}
*/
  &#x27;finally&#x27;: function(callback, label) {
    var constructor = this.constructor;

    return this.then(function(value) {
      return constructor.resolve(callback()).then(function(){
        return value;
      });
    }, function(reason) {
      return constructor.resolve(callback()).then(function(){
        throw reason;
      });
    }, label);
  }
};

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
