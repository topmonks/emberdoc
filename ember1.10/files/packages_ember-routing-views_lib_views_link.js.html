<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>packages/ember-routing-views/lib/views/link.js - The Ember API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="The Ember API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.10.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Backburner.html">Backburner</a></li>
            
                <li><a href="../classes/Ember.html">Ember</a></li>
            
                <li><a href="../classes/Ember._BoundView.html">Ember._BoundView</a></li>
            
                <li><a href="../classes/Ember._Metamorph.html">Ember._Metamorph</a></li>
            
                <li><a href="../classes/Ember._MetamorphView.html">Ember._MetamorphView</a></li>
            
                <li><a href="../classes/Ember._SimpleMetamorphView.html">Ember._SimpleMetamorphView</a></li>
            
                <li><a href="../classes/Ember.ActionHandler.html">Ember.ActionHandler</a></li>
            
                <li><a href="../classes/Ember.Application.html">Ember.Application</a></li>
            
                <li><a href="../classes/Ember.Array.html">Ember.Array</a></li>
            
                <li><a href="../classes/Ember.ArrayController.html">Ember.ArrayController</a></li>
            
                <li><a href="../classes/Ember.ArrayProxy.html">Ember.ArrayProxy</a></li>
            
                <li><a href="../classes/Ember.AutoLocation.html">Ember.AutoLocation</a></li>
            
                <li><a href="../classes/Ember.Binding.html">Ember.Binding</a></li>
            
                <li><a href="../classes/Ember.Checkbox.html">Ember.Checkbox</a></li>
            
                <li><a href="../classes/Ember.CollectionView.html">Ember.CollectionView</a></li>
            
                <li><a href="../classes/Ember.Comparable.html">Ember.Comparable</a></li>
            
                <li><a href="../classes/Ember.Component.html">Ember.Component</a></li>
            
                <li><a href="../classes/Ember.ComponentTemplateDeprecation.html">Ember.ComponentTemplateDeprecation</a></li>
            
                <li><a href="../classes/Ember.ComputedProperty.html">Ember.ComputedProperty</a></li>
            
                <li><a href="../classes/Ember.ContainerDebugAdapter.html">Ember.ContainerDebugAdapter</a></li>
            
                <li><a href="../classes/Ember.ContainerView.html">Ember.ContainerView</a></li>
            
                <li><a href="../classes/Ember.Controller.html">Ember.Controller</a></li>
            
                <li><a href="../classes/Ember.ControllerContentModelAliasDeprecation.html">Ember.ControllerContentModelAliasDeprecation</a></li>
            
                <li><a href="../classes/Ember.ControllerMixin.html">Ember.ControllerMixin</a></li>
            
                <li><a href="../classes/Ember.Copyable.html">Ember.Copyable</a></li>
            
                <li><a href="../classes/Ember.CoreObject.html">Ember.CoreObject</a></li>
            
                <li><a href="../classes/Ember.CoreView.html">Ember.CoreView</a></li>
            
                <li><a href="../classes/Ember.DataAdapter.html">Ember.DataAdapter</a></li>
            
                <li><a href="../classes/Ember.DefaultResolver.html">Ember.DefaultResolver</a></li>
            
                <li><a href="../classes/Ember.Deferred.html">Ember.Deferred</a></li>
            
                <li><a href="../classes/Ember.Descriptor.html">Ember.Descriptor</a></li>
            
                <li><a href="../classes/Ember.EachProxy.html">Ember.EachProxy</a></li>
            
                <li><a href="../classes/Ember.Enumerable.html">Ember.Enumerable</a></li>
            
                <li><a href="../classes/Ember.EnumerableUtils.html">Ember.EnumerableUtils</a></li>
            
                <li><a href="../classes/Ember.Error.html">Ember.Error</a></li>
            
                <li><a href="../classes/Ember.EventDispatcher.html">Ember.EventDispatcher</a></li>
            
                <li><a href="../classes/Ember.Evented.html">Ember.Evented</a></li>
            
                <li><a href="../classes/Ember.FEATURES.html">Ember.FEATURES</a></li>
            
                <li><a href="../classes/Ember.Freezable.html">Ember.Freezable</a></li>
            
                <li><a href="../classes/Ember.Handlebars.html">Ember.Handlebars</a></li>
            
                <li><a href="../classes/Ember.Handlebars.helpers.html">Ember.Handlebars.helpers</a></li>
            
                <li><a href="../classes/Ember.HashLocation.html">Ember.HashLocation</a></li>
            
                <li><a href="../classes/Ember.HistoryLocation.html">Ember.HistoryLocation</a></li>
            
                <li><a href="../classes/Ember.HTMLBars.html">Ember.HTMLBars</a></li>
            
                <li><a href="../classes/Ember.HTMLBars.Helper.html">Ember.HTMLBars.Helper</a></li>
            
                <li><a href="../classes/Ember.inject.html">Ember.inject</a></li>
            
                <li><a href="../classes/Ember.InjectedProperty.html">Ember.InjectedProperty</a></li>
            
                <li><a href="../classes/Ember.Instrumentation.html">Ember.Instrumentation</a></li>
            
                <li><a href="../classes/Ember.LinkView.html">Ember.LinkView</a></li>
            
                <li><a href="../classes/Ember.Location.html">Ember.Location</a></li>
            
                <li><a href="../classes/Ember.Logger.html">Ember.Logger</a></li>
            
                <li><a href="../classes/Ember.Map.html">Ember.Map</a></li>
            
                <li><a href="../classes/Ember.MapWithDefault.html">Ember.MapWithDefault</a></li>
            
                <li><a href="../classes/Ember.Mixin.html">Ember.Mixin</a></li>
            
                <li><a href="../classes/Ember.MutableArray.html">Ember.MutableArray</a></li>
            
                <li><a href="../classes/Ember.MutableEnumerable.html">Ember.MutableEnumerable</a></li>
            
                <li><a href="../classes/Ember.Namespace.html">Ember.Namespace</a></li>
            
                <li><a href="../classes/Ember.NativeArray.html">Ember.NativeArray</a></li>
            
                <li><a href="../classes/Ember.NoneLocation.html">Ember.NoneLocation</a></li>
            
                <li><a href="../classes/Ember.Object.html">Ember.Object</a></li>
            
                <li><a href="../classes/Ember.ObjectController.html">Ember.ObjectController</a></li>
            
                <li><a href="../classes/Ember.ObjectProxy.html">Ember.ObjectProxy</a></li>
            
                <li><a href="../classes/Ember.Observable.html">Ember.Observable</a></li>
            
                <li><a href="../classes/Ember.OrderedSet.html">Ember.OrderedSet</a></li>
            
                <li><a href="../classes/Ember.platform.html">Ember.platform</a></li>
            
                <li><a href="../classes/Ember.PromiseProxyMixin.html">Ember.PromiseProxyMixin</a></li>
            
                <li><a href="../classes/Ember.ProxyMixin.html">Ember.ProxyMixin</a></li>
            
                <li><a href="../classes/Ember.ReduceComputedProperty.html">Ember.ReduceComputedProperty</a></li>
            
                <li><a href="../classes/Ember.Route.html">Ember.Route</a></li>
            
                <li><a href="../classes/Ember.Router.html">Ember.Router</a></li>
            
                <li><a href="../classes/Ember.run.html">Ember.run</a></li>
            
                <li><a href="../classes/Ember.Select.html">Ember.Select</a></li>
            
                <li><a href="../classes/Ember.Service.html">Ember.Service</a></li>
            
                <li><a href="../classes/Ember.Set.html">Ember.Set</a></li>
            
                <li><a href="../classes/Ember.SortableMixin.html">Ember.SortableMixin</a></li>
            
                <li><a href="../classes/Ember.String.html">Ember.String</a></li>
            
                <li><a href="../classes/Ember.SubArray.html">Ember.SubArray</a></li>
            
                <li><a href="../classes/Ember.TargetActionSupport.html">Ember.TargetActionSupport</a></li>
            
                <li><a href="../classes/Ember.Test.html">Ember.Test</a></li>
            
                <li><a href="../classes/Ember.Test.Adapter.html">Ember.Test.Adapter</a></li>
            
                <li><a href="../classes/Ember.Test.QUnitAdapter.html">Ember.Test.QUnitAdapter</a></li>
            
                <li><a href="../classes/Ember.TextArea.html">Ember.TextArea</a></li>
            
                <li><a href="../classes/Ember.TextField.html">Ember.TextField</a></li>
            
                <li><a href="../classes/Ember.TextSupport.html">Ember.TextSupport</a></li>
            
                <li><a href="../classes/Ember.TrackedArray.html">Ember.TrackedArray</a></li>
            
                <li><a href="../classes/Ember.View.html">Ember.View</a></li>
            
                <li><a href="../classes/Ember.ViewTargetActionSupport.html">Ember.ViewTargetActionSupport</a></li>
            
                <li><a href="../classes/Function.html">Function</a></li>
            
                <li><a href="../classes/HandlebarsCompatibleHelper.html">HandlebarsCompatibleHelper</a></li>
            
                <li><a href="../classes/Libraries.html">Libraries</a></li>
            
                <li><a href="../classes/RSVP.html">RSVP</a></li>
            
                <li><a href="../classes/RSVP.EventTarget.html">RSVP.EventTarget</a></li>
            
                <li><a href="../classes/RSVP.Promise.html">RSVP.Promise</a></li>
            
                <li><a href="../classes/String.html">String</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/ember.html">ember</a></li>
            
                <li><a href="../modules/ember-application.html">ember-application</a></li>
            
                <li><a href="../modules/ember-debug.html">ember-debug</a></li>
            
                <li><a href="../modules/ember-extension-support.html">ember-extension-support</a></li>
            
                <li><a href="../modules/ember-handlebars.html">ember-handlebars</a></li>
            
                <li><a href="../modules/ember-htmlbars.html">ember-htmlbars</a></li>
            
                <li><a href="../modules/ember-metal.html">ember-metal</a></li>
            
                <li><a href="../modules/ember-routing.html">ember-routing</a></li>
            
                <li><a href="../modules/ember-routing-handlebars.html">ember-routing-handlebars</a></li>
            
                <li><a href="../modules/ember-routing-htmlbars.html">ember-routing-htmlbars</a></li>
            
                <li><a href="../modules/ember-routing-views.html">ember-routing-views</a></li>
            
                <li><a href="../modules/ember-runtime.html">ember-runtime</a></li>
            
                <li><a href="../modules/ember-testing.html">ember-testing</a></li>
            
                <li><a href="../modules/ember-views.html">ember-views</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: packages/ember-routing-views/lib/views/link.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
@module ember
@submodule ember-routing-views
*/

import Ember from &quot;ember-metal/core&quot;; // FEATURES, Logger, assert

import { get } from &quot;ember-metal/property_get&quot;;
import merge from &quot;ember-metal/merge&quot;;
import run from &quot;ember-metal/run_loop&quot;;
import { computed } from &quot;ember-metal/computed&quot;;
import { fmt } from &quot;ember-runtime/system/string&quot;;
import keys from &quot;ember-metal/keys&quot;;
import { isSimpleClick } from &quot;ember-views/system/utils&quot;;
import EmberComponent from &quot;ember-views/views/component&quot;;
import { routeArgs } from &quot;ember-routing/utils&quot;;
import { read, subscribe } from &quot;ember-metal/streams/utils&quot;;

var numberOfContextsAcceptedByHandler = function(handler, handlerInfos) {
  var req = 0;
  for (var i = 0, l = handlerInfos.length; i &lt; l; i++) {
    req = req + handlerInfos[i].names.length;
    if (handlerInfos[i].handler === handler)
      break;
  }

  return req;
};

/**
  &#x60;Ember.LinkView&#x60; renders an element whose &#x60;click&#x60; event triggers a
  transition of the application&#x27;s instance of &#x60;Ember.Router&#x60; to
  a supplied route by name.

  Instances of &#x60;LinkView&#x60; will most likely be created through
  the &#x60;link-to&#x60; Handlebars helper, but properties of this class
  can be overridden to customize application-wide behavior.

  @class LinkView
  @namespace Ember
  @extends Ember.View
  @see {Handlebars.helpers.link-to}
**/
var LinkView = Ember.LinkView = EmberComponent.extend({
  tagName: &#x27;a&#x27;,

  /**
    @deprecated Use current-when instead.
    @property currentWhen
  */
  currentWhen: null,

  /**
    Used to determine when this LinkView is active.

    @property currentWhen
  */
  &#x27;current-when&#x27;: null,

  /**
    Sets the &#x60;title&#x60; attribute of the &#x60;LinkView&#x60;&#x27;s HTML element.

    @property title
    @default null
  **/
  title: null,

  /**
    Sets the &#x60;rel&#x60; attribute of the &#x60;LinkView&#x60;&#x27;s HTML element.

    @property rel
    @default null
  **/
  rel: null,

  /**
    Sets the &#x60;tabindex&#x60; attribute of the &#x60;LinkView&#x60;&#x27;s HTML element.

    @property tabindex
    @default null
  **/
  tabindex: null,

  /**
    Sets the &#x60;target&#x60; attribute of the &#x60;LinkView&#x60;&#x27;s HTML element.

    @since 1.8.0
    @property target
    @default null
  **/
  target: null,

  /**
    The CSS class to apply to &#x60;LinkView&#x60;&#x27;s element when its &#x60;active&#x60;
    property is &#x60;true&#x60;.

    @property activeClass
    @type String
    @default active
  **/
  activeClass: &#x27;active&#x27;,

  /**
    The CSS class to apply to &#x60;LinkView&#x60;&#x27;s element when its &#x60;loading&#x60;
    property is &#x60;true&#x60;.

    @property loadingClass
    @type String
    @default loading
  **/
  loadingClass: &#x27;loading&#x27;,

  /**
    The CSS class to apply to a &#x60;LinkView&#x60;&#x27;s element when its &#x60;disabled&#x60;
    property is &#x60;true&#x60;.

    @property disabledClass
    @type String
    @default disabled
  **/
  disabledClass: &#x27;disabled&#x27;,
  _isDisabled: false,

  /**
    Determines whether the &#x60;LinkView&#x60; will trigger routing via
    the &#x60;replaceWith&#x60; routing strategy.

    @property replace
    @type Boolean
    @default false
  **/
  replace: false,

  /**
    By default the &#x60;{{link-to}}&#x60; helper will bind to the &#x60;href&#x60; and
    &#x60;title&#x60; attributes. It&#x27;s discouraged that you override these defaults,
    however you can push onto the array if needed.

    @property attributeBindings
    @type Array | String
    @default [&#x27;href&#x27;, &#x27;title&#x27;, &#x27;rel&#x27;, &#x27;tabindex&#x27;, &#x27;target&#x27;]
   **/
  attributeBindings: [&#x27;href&#x27;, &#x27;title&#x27;, &#x27;rel&#x27;, &#x27;tabindex&#x27;],

  /**
    By default the &#x60;{{link-to}}&#x60; helper will bind to the &#x60;active&#x60;, &#x60;loading&#x60;, and
    &#x60;disabled&#x60; classes. It is discouraged to override these directly.

    @property classNameBindings
    @type Array
    @default [&#x27;active&#x27;, &#x27;loading&#x27;, &#x27;disabled&#x27;]
   **/
  classNameBindings: [&#x27;active&#x27;, &#x27;loading&#x27;, &#x27;disabled&#x27;],

  /**
    By default the &#x60;{{link-to}}&#x60; helper responds to the &#x60;click&#x60; event. You
    can override this globally by setting this property to your custom
    event name.

    This is particularly useful on mobile when one wants to avoid the 300ms
    click delay using some sort of custom &#x60;tap&#x60; event.

    @property eventName
    @type String
    @default click
  */
  eventName: &#x27;click&#x27;,

  // this is doc&#x27;ed here so it shows up in the events
  // section of the API documentation, which is where
  // people will likely go looking for it.
  /**
    Triggers the &#x60;LinkView&#x60;&#x27;s routing behavior. If
    &#x60;eventName&#x60; is changed to a value other than &#x60;click&#x60;
    the routing behavior will trigger on that custom event
    instead.

    @event click
  **/

  /**
    An overridable method called when LinkView objects are instantiated.

    Example:

    &#x60;&#x60;&#x60;javascript
    App.MyLinkView = Ember.LinkView.extend({
      init: function() {
        this._super();
        Ember.Logger.log(&#x27;Event is &#x27; + this.get(&#x27;eventName&#x27;));
      }
    });
    &#x60;&#x60;&#x60;

    NOTE: If you do override &#x60;init&#x60; for a framework class like &#x60;Ember.View&#x60; or
    &#x60;Ember.ArrayController&#x60;, be sure to call &#x60;this._super()&#x60; in your
    &#x60;init&#x60; declaration! If you don&#x27;t, Ember may not have an opportunity to
    do important setup work, and you&#x27;ll see strange behavior in your
    application.

    @method init
  */
  init: function() {
    this._super.apply(this, arguments);

    Ember.deprecate(&#x27;Using currentWhen with {{link-to}} is deprecated in favor of &#x60;current-when&#x60;.&#x27;, !this.currentWhen);

    // Map desired event name to invoke function
    var eventName = get(this, &#x27;eventName&#x27;);
    this.on(eventName, this, this._invoke);
  },

  /**
    This method is invoked by observers installed during &#x60;init&#x60; that fire
    whenever the params change

    @private
    @method _paramsChanged
    @since 1.3.0
   */
  _paramsChanged: function() {
    this.notifyPropertyChange(&#x27;resolvedParams&#x27;);
  },

  /**
   This is called to setup observers that will trigger a rerender.

   @private
   @method _setupPathObservers
   @since 1.3.0
  **/
  _setupPathObservers: function(){
    var params = this.params;

    var scheduledRerender = this._wrapAsScheduled(this.rerender);
    var scheduledParamsChanged = this._wrapAsScheduled(this._paramsChanged);

    if (this.linkTitle) {
      var linkTitle = this.linkTitle.stream || this.linkTitle;
      subscribe(linkTitle, scheduledRerender, this);
    }

    for (var i = 0; i &lt; params.length; i++) {
      subscribe(params[i], scheduledParamsChanged, this);
    }

    var queryParamsObject = this.queryParamsObject;
    if (queryParamsObject) {
      var values = queryParamsObject.values;
      for (var k in values) {
        if (!values.hasOwnProperty(k)) {
          continue;
        }

        subscribe(values[k], scheduledParamsChanged, this);
      }
    }
  },

  afterRender: function(){
    this._super.apply(this, arguments);
    this._setupPathObservers();
  },

  /**

    Accessed as a classname binding to apply the &#x60;LinkView&#x60;&#x27;s &#x60;disabledClass&#x60;
    CSS &#x60;class&#x60; to the element when the link is disabled.

    When &#x60;true&#x60; interactions with the element will not trigger route changes.
    @property disabled
  */
  disabled: computed(function computeLinkViewDisabled(key, value) {
    if (value !== undefined) { this.set(&#x27;_isDisabled&#x27;, value); }

    return value ? get(this, &#x27;disabledClass&#x27;) : false;
  }),

  /**
    Accessed as a classname binding to apply the &#x60;LinkView&#x60;&#x27;s &#x60;activeClass&#x60;
    CSS &#x60;class&#x60; to the element when the link is active.

    A &#x60;LinkView&#x60; is considered active when its &#x60;currentWhen&#x60; property is &#x60;true&#x60;
    or the application&#x27;s current route is the route the &#x60;LinkView&#x60; would trigger
    transitions into.

    The &#x60;currentWhen&#x60; property can match against multiple routes by separating
    route names using the &#x60; &#x60; (space) character.

    @property active
  **/
  active: computed(&#x27;loadedParams&#x27;, function computeLinkViewActive() {
    if (get(this, &#x27;loading&#x27;)) { return false; }

    var router = get(this, &#x27;router&#x27;);
    var loadedParams = get(this, &#x27;loadedParams&#x27;);
    var contexts = loadedParams.models;
    var currentWhen = this[&#x27;current-when&#x27;] || this.currentWhen;
    var isCurrentWhenSpecified = Boolean(currentWhen);
    currentWhen = currentWhen || loadedParams.targetRouteName;

    function isActiveForRoute(routeName) {
      var handlers = router.router.recognizer.handlersFor(routeName);
      var leafName = handlers[handlers.length-1].handler;
      var maximumContexts = numberOfContextsAcceptedByHandler(routeName, handlers);

      // NOTE: any ugliness in the calculation of activeness is largely
      // due to the fact that we support automatic normalizing of
      // &#x60;resource&#x60; -&gt; &#x60;resource.index&#x60;, even though there might be
      // dynamic segments / query params defined on &#x60;resource.index&#x60;
      // which complicates (and makes somewhat ambiguous) the calculation
      // of activeness for links that link to &#x60;resource&#x60; instead of
      // directly to &#x60;resource.index&#x60;.

      // if we don&#x27;t have enough contexts revert back to full route name
      // this is because the leaf route will use one of the contexts
      if (contexts.length &gt; maximumContexts) {
        routeName = leafName;
      }

      var args = routeArgs(routeName, contexts, null);
      var isActive = router.isActive.apply(router, args);
      if (!isActive) { return false; }

      var emptyQueryParams = Ember.isEmpty(Ember.keys(loadedParams.queryParams));

      if (!isCurrentWhenSpecified &amp;&amp; !emptyQueryParams &amp;&amp; isActive) {
        var visibleQueryParams = {};
        merge(visibleQueryParams, loadedParams.queryParams);
        router._prepareQueryParams(loadedParams.targetRouteName, loadedParams.models, visibleQueryParams);
        isActive = shallowEqual(visibleQueryParams, router.router.state.queryParams);
      }

      return isActive;
    }

    if (Ember.FEATURES.isEnabled(&quot;ember-routing-multi-current-when&quot;)) {
      currentWhen = currentWhen.split(&#x27; &#x27;);
      for (var i = 0, len = currentWhen.length; i &lt; len; i++) {
        if (isActiveForRoute(currentWhen[i])) {
          return get(this, &#x27;activeClass&#x27;);
        }
      }
    } else {
      if (isActiveForRoute(currentWhen)) {
        return get(this, &#x27;activeClass&#x27;);
      }
    }
  }),

  /**
    Accessed as a classname binding to apply the &#x60;LinkView&#x60;&#x27;s &#x60;loadingClass&#x60;
    CSS &#x60;class&#x60; to the element when the link is loading.

    A &#x60;LinkView&#x60; is considered loading when it has at least one
    parameter whose value is currently null or undefined. During
    this time, clicking the link will perform no transition and
    emit a warning that the link is still in a loading state.

    @property loading
  **/
  loading: computed(&#x27;loadedParams&#x27;, function computeLinkViewLoading() {
    if (!get(this, &#x27;loadedParams&#x27;)) { return get(this, &#x27;loadingClass&#x27;); }
  }),

  /**
    Returns the application&#x27;s main router from the container.

    @private
    @property router
  **/
  router: computed(function() {
    var controller = get(this, &#x27;controller&#x27;);
    if (controller &amp;&amp; controller.container) {
      return controller.container.lookup(&#x27;router:main&#x27;);
    }
  }),

  /**
    Event handler that invokes the link, activating the associated route.

    @private
    @method _invoke
    @param {Event} event
  */
  _invoke: function(event) {
    if (!isSimpleClick(event)) { return true; }

    if (this.preventDefault !== false) {
      if (Ember.FEATURES.isEnabled(&quot;ember-routing-linkto-target-attribute&quot;)) {
        var targetAttribute = get(this, &#x27;target&#x27;);
        if (!targetAttribute || targetAttribute === &#x27;_self&#x27;) {
          event.preventDefault();
        }
      } else {
        event.preventDefault();
      }
    }

    if (this.bubbles === false) { event.stopPropagation(); }

    if (get(this, &#x27;_isDisabled&#x27;)) { return false; }

    if (get(this, &#x27;loading&#x27;)) {
      Ember.Logger.warn(&quot;This link-to is in an inactive loading state because at least one of its parameters presently has a null/undefined value, or the provided route name is invalid.&quot;);
      return false;
    }

    if (Ember.FEATURES.isEnabled(&quot;ember-routing-linkto-target-attribute&quot;)) {
      var targetAttribute2 = get(this, &#x27;target&#x27;);
      if (targetAttribute2 &amp;&amp; targetAttribute2 !== &#x27;_self&#x27;) {
        return false;
      }
    }

    var router = get(this, &#x27;router&#x27;);
    var loadedParams = get(this, &#x27;loadedParams&#x27;);

    var transition = router._doTransition(loadedParams.targetRouteName, loadedParams.models, loadedParams.queryParams);
    if (get(this, &#x27;replace&#x27;)) {
      transition.method(&#x27;replace&#x27;);
    }

    // Schedule eager URL update, but after we&#x27;ve given the transition
    // a chance to synchronously redirect.
    // We need to always generate the URL instead of using the href because
    // the href will include any rootURL set, but the router expects a URL
    // without it! Note that we don&#x27;t use the first level router because it
    // calls location.formatURL(), which also would add the rootURL!
    var args = routeArgs(loadedParams.targetRouteName, loadedParams.models, transition.state.queryParams);
    var url = router.router.generate.apply(router.router, args);

    run.scheduleOnce(&#x27;routerTransitions&#x27;, this, this._eagerUpdateUrl, transition, url);
  },

  /**
    @private
    @method _eagerUpdateUrl
    @param transition
    @param href
   */
  _eagerUpdateUrl: function(transition, href) {
    if (!transition.isActive || !transition.urlMethod) {
      // transition was aborted, already ran to completion,
      // or it has a null url-updated method.
      return;
    }

    if (href.indexOf(&#x27;#&#x27;) === 0) {
      href = href.slice(1);
    }

    // Re-use the routerjs hooks set up by the Ember router.
    var routerjs = get(this, &#x27;router.router&#x27;);
    if (transition.urlMethod === &#x27;update&#x27;) {
      routerjs.updateURL(href);
    } else if (transition.urlMethod === &#x27;replace&#x27;) {
      routerjs.replaceURL(href);
    }

    // Prevent later update url refire.
    transition.method(null);
  },

  /**
    Computed property that returns an array of the
    resolved parameters passed to the &#x60;link-to&#x60; helper,
    e.g.:

    &#x60;&#x60;&#x60;hbs
    {{link-to a b &#x27;123&#x27; c}}
    &#x60;&#x60;&#x60;

    will generate a &#x60;resolvedParams&#x60; of:

    &#x60;&#x60;&#x60;js
    [aObject, bObject, &#x27;123&#x27;, cObject]
    &#x60;&#x60;&#x60;

    @private
    @property
    @return {Array}
   */
  resolvedParams: computed(&#x27;router.url&#x27;, function() {
    var params = this.params;
    var targetRouteName;
    var models = [];
    var onlyQueryParamsSupplied = (params.length === 0);

    if (onlyQueryParamsSupplied) {
      var appController = this.container.lookup(&#x27;controller:application&#x27;);
      targetRouteName = get(appController, &#x27;currentRouteName&#x27;);
    } else {
      targetRouteName = read(params[0]);

      for (var i = 1; i &lt; params.length; i++) {
        models.push(read(params[i]));
      }
    }

    var suppliedQueryParams = getResolvedQueryParams(this, targetRouteName);

    return {
      targetRouteName: targetRouteName,
      models: models,
      queryParams: suppliedQueryParams
    };
  }),

  /**
    Computed property that returns the current route name,
    dynamic segments, and query params. Returns falsy if
    for null/undefined params to indicate that the link view
    is still in a loading state.

    @private
    @property
    @return {Array} An array with the route name and any dynamic segments
  **/
  loadedParams: computed(&#x27;resolvedParams&#x27;, function computeLinkViewRouteArgs() {
    var router = get(this, &#x27;router&#x27;);
    if (!router) { return; }

    var resolvedParams = get(this, &#x27;resolvedParams&#x27;);
    var namedRoute = resolvedParams.targetRouteName;

    if (!namedRoute) { return; }

    Ember.assert(fmt(&quot;The attempt to link-to route &#x27;%@&#x27; failed. &quot; +
                     &quot;The router did not find &#x27;%@&#x27; in its possible routes: &#x27;%@&#x27;&quot;,
                     [namedRoute, namedRoute, keys(router.router.recognizer.names).join(&quot;&#x27;, &#x27;&quot;)]),
                     router.hasRoute(namedRoute));

    if (!paramsAreLoaded(resolvedParams.models)) { return; }

    return resolvedParams;
  }),

  queryParamsObject: null,

  /**
    Sets the element&#x27;s &#x60;href&#x60; attribute to the url for
    the &#x60;LinkView&#x60;&#x27;s targeted route.

    If the &#x60;LinkView&#x60;&#x27;s &#x60;tagName&#x60; is changed to a value other
    than &#x60;a&#x60;, this property will be ignored.

    @property href
  **/
  href: computed(&#x27;loadedParams&#x27;, function computeLinkViewHref() {
    if (get(this, &#x27;tagName&#x27;) !== &#x27;a&#x27;) { return; }

    var router = get(this, &#x27;router&#x27;);
    var loadedParams = get(this, &#x27;loadedParams&#x27;);

    if (!loadedParams) {
      return get(this, &#x27;loadingHref&#x27;);
    }

    var visibleQueryParams = {};
    merge(visibleQueryParams, loadedParams.queryParams);
    router._prepareQueryParams(loadedParams.targetRouteName, loadedParams.models, visibleQueryParams);

    var args = routeArgs(loadedParams.targetRouteName, loadedParams.models, visibleQueryParams);
    var result = router.generate.apply(router, args);
    return result;
  }),

  /**
    The default href value to use while a link-to is loading.
    Only applies when tagName is &#x27;a&#x27;

    @property loadingHref
    @type String
    @default #
  */
  loadingHref: &#x27;#&#x27;
});

LinkView.toString = function() { return &quot;LinkView&quot;; };

if (Ember.FEATURES.isEnabled(&quot;ember-routing-linkto-target-attribute&quot;)) {
  LinkView.reopen({
    attributeBindings: [&#x27;target&#x27;],

    /**
      Sets the &#x60;target&#x60; attribute of the &#x60;LinkView&#x60;&#x27;s anchor element.

      @property target
      @default null
    **/
    target: null
  });
}

function getResolvedQueryParams(linkView, targetRouteName) {
  var queryParamsObject = linkView.queryParamsObject;
  var resolvedQueryParams = {};

  if (!queryParamsObject) { return resolvedQueryParams; }

  var values = queryParamsObject.values;
  for (var key in values) {
    if (!values.hasOwnProperty(key)) { continue; }
    resolvedQueryParams[key] = read(values[key]);
  }

  return resolvedQueryParams;
}

function paramsAreLoaded(params) {
  for (var i = 0, len = params.length; i &lt; len; ++i) {
    var param = params[i];
    if (param === null || typeof param === &#x27;undefined&#x27;) {
      return false;
    }
  }
  return true;
}

function shallowEqual(a, b) {
  var k;
  for (k in a) {
    if (a.hasOwnProperty(k) &amp;&amp; a[k] !== b[k]) { return false; }
  }
  for (k in b) {
    if (b.hasOwnProperty(k) &amp;&amp; a[k] !== b[k]) { return false; }
  }
  return true;
}

export {
  LinkView
};

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
